README к плагину Batch Printer and Mail для YajHFC
==================================================

Плагин пакетного принтера и мейлера дополняет YajHFC портом пакетного принтера.

Так же он предоставляет возможность отсылать сообщения e-mail вместо факсов, если задание печати содержит тег @@mailrecipient@@ .

Отличия от "обычного" TCP/IP порта принтера:
- Пакетный принтер никогда не показывает диалоговое окно отправки
- Поэтому задания печати должны содержать тег @@recipient@@
- В случае ошибки факс по умолчанию игнорируется (так же имеется настройка, позволяющая в таких случаях сохранять факсы или посылать почтовые уведомления)
- Порт пакетного принтера разработан для работы без вмешательства пользователя.
- Поддержка тега @@mailrecipient@@


УСТАНОВКА
---------

Если Вы используете установщик Windows:
После установки YajHFC, установите плагин yajhfc-X_Y_Z-plugin-mail-setup.exe.
Будет автоматически создан новый принтер, использующий порт пакетного принтера.

Else:
1. Куда-нибудь распакуйте этот ZIP архив.

2. Запустите YajHFC, перейдите в  Настройки->Плагины и JDBC и нажмите "Добавить плагин".

3. Выберите yajhfc-plugin-mail.jar

4. Перезапустите YajHFC

5. У Вас должна появиться новая панель "Порт пакетного факс-принтера" в диалоговом окне "Настройки".

По умолчанию, YajHFC слушает соединения на порте TCP 19101.
Этот порт можно использовать как порт AppSocket (сокет: протокол) в CUPS или стандартный TCP/IP порт в Windows для создания виртуального факс-принтера.
Чтобы сделать это просто создайте принтер, печатающий в порт 19101 на localhost с драйвером принтера, выводящим PostScript.


НАСТРОЙКА
---------

Чтобы настроить порт пакетного принтера перейдите в панель "Порт пакетного факс-принтера" в окне "Настройки".

В этой панели Вы можете сделать следующее:
- настроить порт, который слушает YajHFC
- настроить каталоги для сохранения успешных/неуспешных факсов
- настроить адрес e-mail для отправки факсов, которые не удалось напечатать

- включить/отключить тег @@mailrecipient@@ , т.е. включить возможность отправки e-mail
  Если Вы желаете использовать возможность отправки e-mail, Вам необходимо сначала настроить установки сервера SMTP
  "Порт пакетного факс-принтера"->"Настройки SMTP"
  
- Если Вы включили возможность отправки e-mail, Вы так же можете настроить тему и тело (т.е. текст) отправляемого сообщения.
- Так же Вы можете настроить адрес e-mail, для получения копии отправляемых писем (как точную копию BCC так и письмо содержащее лог)
